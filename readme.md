# Setting up a Project with Node

Welcome to JSCRIPT 400 - Server Side Development with JavaScript

During class, we will be using repositories like these to develop skills and solidify concepts. I would recommend reading through the instructions _before_ coming to class to prime yourself to the material.

Part of your homework assignment for each class will be to make a Pull Request against this repository. Your Pull Request should include answers to any questions in this document.

As we work together on this during class, I would encourage you to make comments next to code we write. Explain what is happening in your own words so that later you have those notes as a reference.

## Core Learning Objective

*	Use NodeJS APIs to interact with files and the web

## Sub-Objectives

* Setup a basic NPM project
* Run your project from the command line with scripts
* Export and require your own files
* Require and use core Node libraries
* Install, require, and use packages from the web

### Prereqs

To complete this lesson, make sure that `node` and `npm` is installed and can be run from the command line. My versions of each are as follows:

```bash
$ node -v
v12.2.0

$ npm -v
6.9.0
```

### Instructions & Guiding Questions

- [ ] Fork & Clone this repository

* **Question:** What is the difference between forking and cloning a repository as opposed to just cloning a repository?

* **Your Answer:**

Cloning doesn't retain a link to the original repo.

Forking retains a link to be able to merge commits back into the original repository.  The forked repo is monitored and compared with the original repo. 

---

- [ ] Run `npm init -y` from the command line

* **Question:** What does `npm init` do? How does the `-y` flag modify that command?

* **Your Answer:**

Creates the package.json file.  

-y inserts default values in the file.

---

- [ ] Take a look at the file that was generated by the previous command

* **Question:** What is the purpose of the following keys? "name", "scripts", "license"

* **Your Answer:**

name = name of project; default is directory name

scripts = any startup options, default commands you want it to autoly run.  

license = Specifies a license for the package, to indicate how people are permitted to use the package.

---

- [ ] Create a `.gitignore` file

* **Question:** What is the purpose of the `.gitignore` file? What is the significance of a "dot-file?"

* **Your Answer:**

* .gitignore contains the list of files to ignore, to not include at github.  For example npm modules (the node_modules directory), and API keys.

* A dot-file is a hidden file, such as in Finder.

---

- [ ] Create an `index.js` file with the following contents: `console.log('Hello, Node!')`

* **Question:** From the command line, how can you run this file?

* **Your Answer:**

`node index.js`

---

- [ ] Run `npm test` from the command line

* **Question:** What happens and how is this related to what is in the `package.json` file? 

* **Your Answer:**

```
> echo "Error: no test specified" && exit 1
Error: no test specified
npm ERR! Test failed. 
```

`package.json` contains no pointers to tests:

```
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
```

---

- [ ] Create a new "script" command called "start" that has the following value: `node index.js`

* **Question:** What will you enter on the command line to run that script?

* **Your Answer:**

Enter: `npm start`

Output:
```
> node index.js
Hello, Node!
```

---

- [ ] Change the name of your "start" script to "my-file"

* **Question:** The same pattern will not work to try and run this script. How can you successfully get this script to run?

* **Your Answer:**

Enter: `npm run my-file`

Output:
```
> node index.js
Hello, Node!
```

---

- [ ] Create a new file called `profile.js`. Inside the file, copy the following but replace `<your-name>` with your name:
  ```js
  module.exports = '<your-name>'
  ```

  Add the following to your `index.js` file. Then, run your file.
  ```js
  const profile = require('./profile.js')
  console.log(profile)
  ```

* **Question:** What gets logged? Why?

* **Your Answer:**

Enter: `node index.js`

Output:
```
Hello, Node!
Michael Hoffman
```

* **Question:** What is `module.exports` and what is its _type_ in JavaScript? What is `require` and what is its _type_ in JavaScript?

* **Your Answer:**

`module.exports` contains functions or other objects to make available to code in other JavaScript files.

`module.exports` is an object.

`require` imports a module.

`require` is a function.

---

- [ ] We can only export one thing from files when using Node. With that said, export both your name and your birthday from the `profile.js` file.

* **Question:** What are some ways you can solve this problem?

* **Your Answer:**

Wrap variables in curly braces. For example:
```
const name = 'Michael'
const age = 'kinda old'
module.exports = { age, name }
```

---

- [ ] Add the following to your `index.js` file. Then, run your file.
  ```js
  const path = require('path')
  console.log(path.resolve())
  ```

* **Question:** What is `path` and where does it come from?

* **Your Answer:**

`path` is a node package that provides utilities for working with file and directory paths.  It comes with Node (there's no ./).  We didn't install any packages.

To run the file, enter: `node index.js`

---

- [ ] Install the [moment](https://www.npmjs.com/package/moment) package

* **Question:** What command can you run to install this package?

* **Your Answer:**

Enter: `npm install moment`

The `node_modules` folder contains the moment module.

Docs: https://momentjs.com/docs/#/use-it/node-js/


---

- [ ] On your own, use this package in the `index.js` file

* **Question:** Do you need to use a `./` to require the package? Why or why not?

* **Your Answer:**

No, because the package is installed as an npm module, and is in the `package.json` file.

To require the package, in `index.js`, add:
```
const moment = require('moment')
moment().format();
```

---

- [ ] Move your `profile.js` file into a `src/` folder. Update the path in your `index.js` file to ensure everything continues to work.

Commands to issue:
```
mkdir src
mv profile.js src
```

In `index.js`, add:
`const profile = require('./src/profile.js')`

To test, enter: `node index.js`


#### Resources

- [Node.js Built-In Modules](https://nodejs.org/dist/latest-v12.x/docs/api/)
- [NPM: Moment](https://www.npmjs.com/package/moment)
